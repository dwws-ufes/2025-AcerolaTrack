@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix pto: <http://pto.example/ontology#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix foaf:   <http://xmlns.com/foaf/0.1/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix dg: <https://w3id.org/dingo#> .
@prefix schema: <http://schema.org/> .

### --- Classes Principais ---
# Reuso das classes do DINGO
dg:Project a rdfs:Class ;
    rdfs:label "Project" ;
    rdfs:comment "An organised endeavour planned to reach a particular aim." .

dg:Person a rdfs:Class ;
    rdfs:label "Person" ;
    rdfs:comment "An individual (alive, dead, or fictional)." .

dg:Role a rdfs:Class ;
    rdfs:label "Role" ;
    rdfs:comment "Function assumed by an entity in a context." .

# Classes customizadas para seu sistema
pto:Task a rdfs:Class ;
    rdfs:label "Task" ;
    rdfs:comment "A unit of work within a project." ;
    rdfs:subClassOf schema:Action .

pto:TimeEntry a rdfs:Class ;
    rdfs:label "Time Entry" ;
    rdfs:comment "A record of time spent on a task by a person." .

### --- Propriedades de Relacionamento ---
# Pessoa → Tarefa (associação)
pto:assignedTo a rdf:Property ;
    rdfs:domain pto:Task ;
    rdfs:range dg:Person ;
    rdfs:label "assigned to" ;
    rdfs:comment "Links a task to the person responsible." .

# Tarefa → Projeto (hierarquia)
pto:partOfProject a rdf:Property ;
    rdfs:domain pto:Task ;
    rdfs:range dg:Project ;
    rdfs:label "part of project" ;
    rdfs:subPropertyOf dcterms:isPartOf .  # Reuso de Dublin Core

# Projeto → Worker (associação)
pto:hasWorker a rdf:Property ;
    rdfs:domain dg:Project ;
    rdfs:range dg:Person ;
    rdfs:label "has worker" ;
    rdfs:comment "Links a project to its assigned workers." .

# Time Entry → Tarefa (registro)
pto:recordsWorkOn a rdf:Property ;
    rdfs:domain pto:TimeEntry ;
    rdfs:range pto:Task ;
    rdfs:label "records work on" .

# Pessoa → Time Entry (autoria)
pto:recordedBy a rdf:Property ;
    rdfs:domain pto:TimeEntry ;
    rdfs:range dg:Person ;
    rdfs:label "recorded by" ;
    rdfs:subPropertyOf prov:wasAttributedTo .  # Opcional: link ao PROV-O

# Pessoa → Role (contextual)
pto:hasRole a rdf:Property ;
    rdfs:domain dg:Person ;
    rdfs:range dg:Role ;
    rdfs:label "has role" ;
    rdfs:comment "Describes a person's role in a specific context (e.g., 'Developer' in Project X)." .

# Mapeamento para relação Project-Worker
<#ProjectWorkerMapping>
    rr:logicalTable [ 
        rr:sqlQuery """
            SELECT project_id, worker_id 
            FROM project_report
        """
    ];
    rr:subjectMap [
        rr:template "http://acerolatrack.org/project/{project_id}";
    ];
    rr:predicateObjectMap [
        rr:predicate pto:hasWorker;
        rr:objectMap [
            rr:template "http://acerolatrack.org/worker/{worker_id}";
        ];
    ] .

### --- Exemplo de Instância ---
# dg:ProjectX a dg:Project ;
#     rdfs:label "ptoTrack Development" .

# dg:JohnDoe a dg:Person ;
#     foaf:name "John Doe" ;
#     pto:hasRole dg:Developer .

# pto:Task1 a pto:Task ;
#     rdfs:label "Implement RDF Model" ;
#     pto:assignedTo dg:JohnDoe ;
#     pto:partOfProject dg:ProjectX .

# pto:TimeEntry1 a pto:TimeEntry ;
#     pto:recordedBy dg:JohnDoe ;
#     pto:recordsWorkOn pto:Task1 ;
#     schema:startTime "2023-01-01T09:00:00"^^xsd:dateTime ;
#     schema:endTime "2023-01-01T12:00:00"^^xsd:dateTime .